{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "type": "object",
    "properties": {
        "coupling-scheme": {
            "type": "object",
            "properties": {
                "max-time": {
                    "type": ["number", "string"],
                    "description": "Maximum simulation time, supports scientific notation",
                    "pattern": "^[+-]?([0-9]*[.])?[0-9]+([eE][+-]?[0-9]+)?$"
                },
                "time-window-size": {
                    "type": ["number", "string"],
                    "description": "Size of each time window, supports scientific notation",
                    "pattern": "^[+-]?([0-9]*[.])?[0-9]+([eE][+-]?[0-9]+)?$"
                },
                "relative-accuracy": {
                    "type": ["number", "string"],
                    "description": "Relative accuracy for coupling, supports scientific notation",
                    "pattern": "^[+-]?([0-9]*[.])?[0-9]+([eE][+-]?[0-9]+)?$"
                },
                "sync-mode": {
                    "type": "string",
                    "enum": ["on", "off"],
                    "description": "Synchronization mode for coupling",
                    "default": "on"
                },
                "mode": {
                    "type": "string",
                    "enum": ["fundamental", "advanced"],
                    "description": "Simulation mode",
                    "default": "fundamental"
                },
                "coupling-type": {
                    "type": "string",
                    "enum": ["explicit", "implicit"],
                    "description": "Type of coupling scheme",
                    "default": "explicit"
                },
                "max-iterations": {
                    "type": "integer",
                    "description": "Maximum number of iterations for implicit coupling",
                    "minimum": 1,
                    "maximum": 100,
                    "default": 50
                },
                "extrapolation-order": {
                    "type": "integer",
                    "description": "Order of extrapolation for implicit coupling",
                    "enum": [1, 2, 3],
                    "default": 2
                }
            },
            "required": ["max-time", "time-window-size", "relative-accuracy"],
            "additionalProperties": false
        },
        "participants": {
            "type": "object",
            "description": "Mapping of participant names to their solver configurations",
            "additionalProperties": {
                "type": "object",
                "properties": {
                    "solver": {
                        "type": "string",
                        "description": "Name of the solver"
                    },
                    "solver-type": {
                        "type": "string",
                        "description": "Type of solver",
                        "enum": ["Fluid", "Solid", "Heat", "NotDefined"]
                    },
                    "interface": {
                        "type": "string",
                        "description": "Interface patch name"
                    },
                    "dimensionality": {
                        "type": "integer",
                        "description": "Dimensionality of the solver",
                        "enum": [1, 2, 3],
                        "default": 3
                    },
                    "nature": {
                        "type": "string",
                        "description": "Nature of the solver",
                        "enum": ["STATIONARY", "TRANSIENT"],
                        "default": "TRANSIENT"
                    }
                },
                "required": ["solver"]
            },
            "minProperties": 1,
            "maxProperties": 10
        },
        "exchanges": {
            "type": "array",
            "minItems": 1,
            "maxItems": 10,
            "items": {
                "type": "object",
                "properties": {
                    "from": {
                        "type": "string",
                        "description": "Source participant name",
                        "minLength": 1,
                        "maxLength": 50
                    },
                    "from-patch": {
                        "type": "string", 
                        "description": "Source patch/interface name",
                        "minLength": 1,
                        "maxLength": 50
                    },
                    "to": {
                        "type": "string",
                        "description": "Target participant name",
                        "minLength": 1,
                        "maxLength": 50
                    },
                    "to-patch": {
                        "type": "string",
                        "description": "Target patch/interface name",
                        "minLength": 1,
                        "maxLength": 50
                    },
                    "data": {
                        "type": "string",
                        "description": "Type of data being exchanged",
                        "enum": [
                            "Force", "Displacement", 
                            "Temperature", "HeatTransfer", 
                            "Pressure", "Velocity"
                        ],
                        "minLength": 1,
                        "maxLength": 50
                    },
                    "type": {
                        "type": "string",
                        "enum": ["strong", "weak"],
                        "description": "Coupling type"
                    },
                    "read-quantities": {
                        "type": "array",
                        "description": "Quantities read by the target participant",
                        "items": {
                            "type": "object",
                            "properties": {
                                "name": {
                                    "type": "string",
                                    "enum": [
                                        "Force", "Displacement", 
                                        "Temperature", "HeatTransfer", 
                                        "Pressure", "Velocity"
                                    ]
                                },
                                "unit": {
                                    "type": "string",
                                    "description": "Unit of the quantity"
                                },
                                "mapping": {
                                    "type": "string",
                                    "enum": ["conservative", "consistent"],
                                    "description": "Mapping type for the quantity"
                                }
                            },
                            "required": ["name"]
                        }
                    },
                    "write-quantities": {
                        "type": "array",
                        "description": "Quantities written by the source participant",
                        "items": {
                            "type": "object",
                            "properties": {
                                "name": {
                                    "type": "string",
                                    "enum": [
                                        "Force", "Displacement", 
                                        "Temperature", "HeatTransfer", 
                                        "Pressure", "Velocity"
                                    ]
                                },
                                "unit": {
                                    "type": "string",
                                    "description": "Unit of the quantity"
                                },
                                "mapping": {
                                    "type": "string",
                                    "enum": ["conservative", "consistent"],
                                    "description": "Mapping type for the quantity"
                                }
                            },
                            "required": ["name"]
                        }
                    }
                },
                "required": ["from", "from-patch", "to", "to-patch", "data", "type"]
            }
        }
    },
    "required": ["coupling-scheme", "participants", "exchanges"],
    "additionalProperties": false,
    "description": "Advanced topology configuration for multi-physics simulations with detailed quantity specifications"
}