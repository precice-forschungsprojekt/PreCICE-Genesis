{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "type": "object",
    "properties": {
        "coupling-scheme": {
            "type": "object",
            "properties": {
                "max-time": {
                    "type": ["number", "string"],
                    "description": "Maximum simulation time, can be scientific notation",
                    "pattern": "^[+-]?([0-9]*[.])?[0-9]+([eE][+-]?[0-9]+)?$"
                },
                "time-window-size": {
                    "type": ["number", "string"],
                    "description": "Size of each time window, can be scientific notation",
                    "pattern": "^[+-]?([0-9]*[.])?[0-9]+([eE][+-]?[0-9]+)?$"
                },
                "relative-accuracy": {
                    "type": ["number", "string"],
                    "description": "Relative accuracy for coupling, can be scientific notation",
                    "pattern": "^[+-]?([0-9]*[.])?[0-9]+([eE][+-]?[0-9]+)?$"
                }
            },
            "required": ["max-time", "time-window-size", "relative-accuracy"]
        },
        "participants": {
            "type": "object",
            "description": "Mapping of participant names to their solver codes",
            "additionalProperties": {
                "type": "string"
            },
            "minProperties": 1
        },
        "exchanges": {
            "type": "array",
            "minItems": 1,
            "items": {
                "type": "object",
                "properties": {
                    "from": {
                        "type": "string",
                        "description": "Source participant name"
                    },
                    "from-patch": {
                        "type": "string", 
                        "description": "Source patch/interface name"
                    },
                    "to": {
                        "type": "string",
                        "description": "Target participant name"
                    },
                    "to-patch": {
                        "type": "string",
                        "description": "Target patch/interface name"
                    },
                    "data": {
                        "type": "string",
                        "description": "Type of data being exchanged"
                    },
                    "type": {
                        "type": "string",
                        "enum": ["strong", "weak"],
                        "description": "Coupling type"
                    }
                },
                "required": ["from", "from-patch", "to", "to-patch", "data", "type"]
            }
        }
    },
    "required": ["coupling-scheme", "participants", "exchanges"]
}